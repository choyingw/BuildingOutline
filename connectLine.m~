function map = connectLine(p1,p2,map)

if p1(1)>p2(1)
    tmp=p1;
    p1=p2;
    p2=tmp;
end

x_int = p2(1)-p1(1); y_int = p2(2)-p1(2);
add_ = y_int/x_int;

if abs(y_int) < 4
    if p2(1)<p1(1)
        map(p2(2),p2(1):p1(1))=1;
    else
        map(p2(2),p1(1):p2(1))=1;
    end
    disp(['Catch  ', 'x_int = ', int2str(x_int), ' y_int = ', int2str(y_int)])
    return;
end

if abs(x_int) < 4
    if p2(2)<p1(2)
        map(p2(2):p1(2),p2(1))=1;
    else
        map(p1(2):p2(2),p2(1))=1;
    end
    disp(['Catch  ', 'x_int = ', int2str(x_int), ' y_int = ', int2str(y_int)])
    return;
end

for i = 1:x_int-1
    y = add_*i+p1(2);
    map(floor(y), p1(1)+i)=1;
    map(ceil(y), p1(1)+i)=1;
    if floor(y) == ceil(y) 
    map(floor(y)-1, p1(1)+i)=1;    
    map(ceil(y)+1, p1(1)+i)=1;
      %  if ceil(y)< s1-2
      %  map(p1(2)+i, ceil(y)+2)=1;
      %  end
      %  if floor(y) > 2
      %  map(p1(2)+i, floor(y)-2)=1;
      %  end
    end
end

end